{% extends 'base/base.html' %} {%load static %} {%block content%}

<link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Rye&display=swap" rel="stylesheet">
<style>
    .card-panel {
        border-radius: 20px;
    }
</style>

<div class="row">
    <div class="center">
        <h4 class="yellow-text" style="font-family: 'Lobster', cursive;margin: 4rem 0 4% 0;font-size:5rem">Looking for a room! </h4>
        <h4 class="orange-text text-lighten-2" style="font-family: 'Lobster', cursive;margin: 0 0 4% 0;line-height: 25%;font-size:2.5rem">We have it ready for you...</h4>
    </div>
    <div class="row">
        <div id="wrapper1" class="col s5 offset-s1 input-field">
            <input type="date" id="start1" class="datepicker-start" style="color: white;" />
            <label for="start1" class="yellow-text" style="font-size:1.4rem;font-family:'Times New Roman'">Start Date</label>
        </div>
        <div id="wrapper2" class="col s5 input-field">
            <input type="date" id="end1" class="datepicker-end" style="color: white;" />
            <label for="end1" class="yellow-text" style="font-size:1.4rem;font-family:'Times New Roman'">End Date</label>
        </div>
        <div class="center">
            <a class="btn red darken-1" href="" style="padding: 25px; line-height:3px; font-family: 'Oswald', sans-serif; font-size:1.2rem" id="show_me_rooms">Check Rooms</a>
        </div>
    </div>
</div>
<div class="divider"></div>
<div class="row" style="margin-top:3%">
    <div class="container">
        <h3 class="center" style="font-family: 'Satisfy', cursive; margin-bottom:7%; margin-top:5%; font-weight: 600; background: -webkit-radial-gradient(rgb(92, 4, 255), rgb(28, 228, 235)); background-clip: text; -webkit-text-fill-color: transparent;">Services at your Doorstep</h3>
        <div class="col l2 m3 s4">
            <div class="card-panel black lighten-2">
                <div class="center blue-text">
                    <i class="material-icons blue-text small">local_airport</i><br> Airport Pick and Drop
                </div>
            </div>
        </div>
        <div class="col l2 m3 s4">
            <div class="card-panel black lighten-2">
                <div class="center blue-text">
                    <i class="material-icons blue-text small">free_breakfast</i><br> Discount on Lunch
                </div>
            </div>
        </div>
        <div class="col l2 m3 s4">
            <div class="card-panel black lighten-2">
                <div class="center blue-text">
                    <i class="material-icons blue-text small">wifi</i><br> Free High speed wifi
                </div>
            </div>
        </div>
        <div class="col l2 m3 s4">
            <div class="card-panel black lighten-2">
                <div class="center blue-text">
                    <i class="material-icons blue-text small">live_tv</i><br> LED TV with Tata Sky
                </div>
            </div>
        </div>
        <div class="col l2 m3 s4">
            <div class="card-panel black lighten-2">
                <div class="center blue-text">
                    <i class="material-icons blue-text small">restaurant</i><br> 24&#10006;7 Local Restaurant
                </div>
            </div>
        </div>
        <div class="col l2 m3 s4">
            <div class="card-panel black lighten-2">
                <div class="center blue-text">
                    <i class="material-icons blue-text small">accessibility</i><br> Free Gymnasium
                </div>
            </div>
        </div>

    </div>
</div>
<div class="row">
    <div class="container">
        <h3 class="center" style="font-family: 'Satisfy', cursive; margin-bottom:7%; margin-top:5%; font-weight: 600; background: -webkit-radial-gradient(rgb(92, 4, 255), rgb(28, 228, 235));background-clip: text; -webkit-text-fill-color: transparent;">Room for Every Size & Need</h3>
        <div class="col l4 m6 s12">
            <div class="card">
                <div class="card-image">
                    <img src="{% static '1.jpg'%}" alt="">
                    <a class="btn-floating btn-large halfway-fab waves-effect waves-light blue black-text" style="font-size:0.8rem">&#x20b9; 1000</a>
                </div>
                <div class="card-content" style="background: black;">
                    <span class="card-title blue-text">
                        Single Bed Room
                    </span>
                </div>
            </div>
            {% csrf_token %}
        </div>
        <div class="col l4 m6 s12">
            <div class="card">
                <div class="card-image">
                    <img src="{% static '2.jpg'%}" alt="">
                    <a class="btn-floating btn-large halfway-fab waves-effect waves-light blue black-text" style="font-size:0.8rem">&#x20b9; 1500</a>
                </div>
                <div class="card-content" style="background: black;">
                    <span class="card-title blue-text">
                       King-sized Bed Room
                    </span>
                </div>
            </div>
        </div>
        <div class="col l4 m6 s12">
            <div class="card">
                <div class="card-image">
                    <img src="{% static '3.jpg'%}" alt="">
                    <a class="btn-floating btn-large halfway-fab waves-effect waves-light blue black-text" style="font-size:0.8rem">&#x20b9; 1700</a>
                </div>
                <div class="card-content" style="background: black;">
                    <span class="card-title blue-text">
                        Double Bed Room
                    </span>
                </div>
            </div>
        </div>

        <div class="col l4 m6 s12">
            <div class="card">
                <div class="card-image">
                    <img src="{% static '4.jpg'%}" alt="">
                    <a class="btn-floating btn-large halfway-fab waves-effect waves-light blue black-text" style="font-size:0.8rem">&#x20b9; 2000</a>
                </div>
                <div class="card-content" style="background: black;">
                    <span class="card-title blue-text">
                      Double AC Bed Rooms
                    </span>
                </div>
            </div>
        </div>
        <div class="col l4 m6 s12">
            <div class="card">
                <div class="card-image">
                    <img src="{% static '5.jpg'%}" alt="">
                    <a class="btn-floating btn-large halfway-fab waves-effect waves-light blue black-text" style="font-size:0.8rem">&#x20b9; 2500</a>
                </div>
                <div class="card-content" style="background: black;">
                    <span class="card-title blue-text">
                        Room with View
                    </span>
                </div>
            </div>
        </div>

        <div class="col l4 m6 s12">
            <div class="card">
                <div class="card-image">
                    <img src="{% static '6.jpg'%}" alt="">
                    <a class="btn-floating btn-large halfway-fab waves-effect waves-light blue black-text" style="font-size:0.8rem">&#x20b9; 5000</a>
                </div>
                <div class="card-content" style="background: black;">
                    <span class="card-title blue-text">
                      Sea Facing Rooms
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    // Accept datepicker-start or datepicker-end, as we need to initialize both anyway.
    $("input[class*='datepicker-']").pickadate({
        selectMonths: false,
        selectYears: 1,
        format: 'dd/mmm/yyyy',
        onSet: function(obj) {
            let thisPicker = $(this)[0].$node;

            // Check if this is the start date
            let classes = thisPicker.attr("class");
            if (classes === undefined || classes.length === 0 || classes.indexOf("datepicker-start") < 0) {
                return;
            }

            // .datepicker-start must be wrapped in a div.input-field element (in this example), and
            // .datepicker-end must be in the next div.input-field.  Change selectors for your conditions.
            let parent1 = thisPicker.closest("div.input-field"); // This picker's parent
            let parent2 = parent1.next("div.input-field"); // Next picker's parent
            let picker2 = parent2.find(".datepicker-end"); // Matching 'end' picker

            // Set end picker minimum date, or whatever you need.
            if (obj.select) {
                let dt = new Date(obj.select);
                picker2.pickadate('picker').set('min', dt);
            }
            if (obj.hasOwnProperty('clear')) {
                picker2.pickadate('picker').set('min', false);
            }
        }
    });
</script>
<script>
    const room_btn = document.getElementById("show_me_rooms")
    room_btn.addEventListener("click", (e) => {
        e.preventDefault()
        startDate = $('.datepicker-start').val();
        endDate = $('.datepicker-end').val();
        //d = new Date(endDate);    
        sd = new Date(startDate)
        td = new Date()
        if (sd < td || startDate.length == 0 || endDate.length == 0) {
            alert("Please choose a valid date")
        } else {
            var form = document.createElement("form");
            var element1 = document.createElement("input");
            var element2 = document.createElement("input");
            var element3 = document.createElement("input");

            form.method = "POST";
            form.action = "/book";

            element1.name = "start_date";
            element1.type = "text"
            element1.value = startDate;
            form.appendChild(element1);

            element2.name = "end_date";
            element2.type = "text"
            element2.value = endDate;
            form.appendChild(element2);
            element3.value = '{{csrf_token}}';
            element3.name = "csrfmiddlewaretoken";
            element3.type = "hidden"
            form.appendChild(element3);
            document.body.appendChild(form);
            form.submit();
        }
    });
</script>
{% endblock %}